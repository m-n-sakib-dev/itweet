{% extends 'layout.html' %}
{% load static %}

{% block content %}
  <link rel="stylesheet" href="{% static 'css/tweet/create_tweet_style.css' %}" />
  <script src="{% static 'scripts/tweet/create_tweet.js' %}"></script>
  <div class="tweet-create-container">
    <div class="tweet-create-card">
      <!-- Header -->
      <div class="create-header">
        <div class="header-content">
          <i class="bi bi-feather-fill header-icon"></i>
          <h1 class="create-title">
            {% if form.instance.pk %}
              Edit My Tweet
            {% else %}
              Create New Tweet
            {% endif %}
          </h1>
        </div>
        <div class="gradient-bar"></div>
      </div>

      <!-- Form -->
      <form method="post" enctype="multipart/form-data" class="tweet-form">
        {% csrf_token %}

        <!-- Text Input -->
        <div class="form-group">
          <div class="input-header">
            <label for="{{ form.text.id_for_label }}" class="form-label">
              <i class="bi bi-chat-text"></i>
              {{ form.text.label }}
            </label>
            <span class="char-count" id="charCount">0/1000</span>
          </div>
          {{ form.text }}
          <div class="input-footer">
            <div class="suggestions">
              {% comment %} <span class="suggestion-tag">#HelloWorld</span>
              <span class="suggestion-tag">#iTweet</span>
              <span class="suggestion-tag">#NewPost</span> {% endcomment %}
            </div>
          </div>
        </div>

        <!-- Image Upload -->
        <div class="form-group">
          <label for="{{ form.photo.id_for_label }}" class="form-label">
            <i class="bi bi-image"></i>
            Add Image
          </label>
          <div class="image-preview" id="imagePreview"></div>
          <div class="file-upload-area" id="uploadArea">
            <i class="bi bi-cloud-upload upload-icon"></i>
            <p class="upload-text">Drag & drop or click to upload</p>
            <p class="upload-subtext">PNG, JPG up to 5MB</p>
            {{ form.photo }}
          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="submit-btn" id="submitBtn">
          <i class="bi bi-send-fill"></i>
          {% if form.instance.pk %}
            Update Tweet
          {% else %}
            Post Tweet
          {% endif %}
        </button>
      </form>
    </div>
  </div>
{% endblock %}
